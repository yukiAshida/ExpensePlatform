
# 事前にやってあったこと
・Heroku CLIのインストール


# 初期手順（データベース無し）

1. GmailのHerokuへの登録（https://jp.heroku.com/platform）
2. CLIでHerokuにログイン
    /TO/APP_PATH/> heroku login
3. CLIでアプリを作成
    /TO/APP_PATH/> heroku create APP_NAME (heitravelexpense)
4. Herokuにログインして、Nodeアドオンを追加
    Settings -> Buildpacks -> Node
5. Gitにコミット
    /TO/APP_PATH/> git init/add/commit
6. GitにHerokuURLを登録
    /TO/APP_PATH/> git remote add heroku APP_URL (https://git.heroku.com/heitravelexpense.git)
7. デプロイ
    /TO/APP_PATH/> git push heroku master

※ procfileをミスってたので、デプロイ失敗してた
誤) web: gunicorn app:app --log-file
正) web: gunicorn app:app --log-file=-


# データベース導入

1. Herokuダッシュボード -> Resources -> Add-onsでPostgresを検索してProvision（Postgresはクレカ不要）
2. heroku CLIでHerokuにログイン
    /TO/APP_PATH/> heroku login
3. データベースにログイン
    /TO/APP_PATH/> heroku pg:psql
4. db.txtの内容に即して、ClientテーブルとFinanceテーブルを作成

```Clientテーブル
CREATE TABLE Client
(last_name VARCHAR(32) NOT NULL,
first_name VARCHAR(32) NOT NULL,
role VARCHAR(32) NOT NULL,
belonging VARCHAR(32) NOT NULL,
finance VARCHAR(120) NOT NULL,
work_code VARCHAR(16) NOT NULL,
e_mail VARCHAR(64) NOT NULL,
password VARCHAR(32) NOT NULL,
reference_list VARCHAR(1080),
admin Boolean NOT NULL,
PRIMARY KEY (e_mail));
```

```Financeテーブル
CREATE TABLE Finance
(name VARCHAR(32),
department_name VARCHAR(64),
project_name VARCHAR(64),
budget_name VARCHAR(64),
account_name VARCHAR(64),
department_code VARCHAR(32),
project_code VARCHAR(32),
budget_code VARCHAR(32),
account_code VARCHAR(32),
PRIMARY KEY (name));
```

# データベース変更
... (db.txtに沿う)